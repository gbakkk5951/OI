首先，假设这只猫在所有天数都是睡觉，我们稍后再决策将哪些天数改为吃东西。

我们用 xi=0 表示这只猫在第i天睡觉， xi=1 表示吃东西。

则有下列不等式：

me≤x1+x2+x3+...+xk≤k?ms

me≤x2+x3+x4+...+xk+1≤k?ms

...

me≤xn?k+1+xn?k+2+...+xn≤k?ms

我们令 0≤y1≤k?ms?me ，则上述不等式可以转化为以下的等式：

x1+x2+x3+...+xk+y1=k?ms

x2+x3+x4+...+xk+1+y2=k?ms

...

xn?k+1+xn?k+2+...+xn+yn?k+1=k?ms

将这些等式两两相减，得：

x1?xk+1+y1?y2=0

x2?xk+2+y2?y3=0

...

xn?k?xn+yn?k?yn?k+1=0

(k?ms)?x1?x2?...?xk?y1=0

xn?k+1+xn?k+2+...+xn+yn?k+1?(k?ms)=0

我们把等式左边加起来，发现恰好为0，满足流量平衡。

把上述每个等式看成一个点，负的流出，正的流入（或反过来）。跑一次费用流即可。